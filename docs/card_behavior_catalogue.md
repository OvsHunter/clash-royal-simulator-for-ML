# Troop Behaviour Catalogue

To support smarter automated play the simulator now ships with a derived
behaviour catalogue for **every troop** card.  The catalogue lives at
`data/card_behaviors.json` and is generated by running:

```bash
python tools/generate_card_behaviors.py
```

The script fuses the authoritative card list (`raw_data/cards_all.json`) with
the normalised combat stats used by the engine (`data/troops.json`).  A set of
deterministic heuristics infer:

* primary battlefield roles (tank, swarm, splash support, win condition, ...)
* which threats a card answers (e.g. *counters_ground_swarm*)
* synergy hints (for instance *clears_support_swarm* for splash units)
* placement recommendations (e.g. *place_behind_tank*)
* a coarse elixir profile (cycle / standard / heavy)

## Consuming the Data

`ai/card_knowledge.py` wraps the JSON file and offers helpers that:

* fetch the metadata for a single card (`get_behaviour` / `describe`)
* score a set of candidate cards given tactical requirements
  (`recommend_cards`)

These helpers are fully deterministic and side-effect free which makes them
suitable both for rule-based agents and as features for learning models.

## Extending the Catalogue

The heuristics intentionally favour clarity over exhaustiveness.  To adjust a
classification tweak the logic in `tools/generate_card_behaviors.py` and
regenerate the JSON.  Whenever troop statistics or new cards land, regenerate
the file to keep the AI knowledge base in sync with the raw data.
